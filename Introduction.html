<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProfilePage3</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            background-image: url('images/InfernalRealm.jpg');
            background-size: cover;
            background-attachment: fixed;
        }
        p{
            color:red;
            font-family: 'Arial Black', Gadget, sans-serif;
            font-size: 14px;
        }
       .center-image {
            display: block;
            margin: 0 auto;
        }
        .tracker-tooltip.force-fade {
          opacity: 0 !important;
          visibility: hidden !important;
          transition: opacity 2s cubic-bezier(0.23, 1, 0.32, 1), visibility 2s cubic-bezier(0.23, 1, 0.32, 1);
        }
    </style>
</head>
<body>
    <!-- Lilith Tracker Overlay -->
    <div class="tracker-overlay">
      <img src="images/LilithTracker.png" alt="Lilith Tracker">
      <div class="tracker-tooltip"><span class="scrolling-text">*Lilith grant me the Strength to handle this shit today!<br>*Samael bless my wrath as I witness and feel this shit!<br>*The Joker is my Spirit Animal this Dark Night!</span></div>
    </div>
    <!-- Samael Tab Trigger -->
    <div class="samael-tab-trigger" id="samaelTabTrigger-intro" title="Open Demon Paradox Scroll">
      <img src="images/SamaelTab.png" alt="Samael Tab" class="samael-tab-img">
    </div>
    
    <!-- Demon Paradox Scroll Overlay -->
    <div class="paradox-scroll-overlay" id="paradoxScrollOverlay-intro">
      <button class="close-scroll" id="closeParadoxScroll-intro" title="Close">&times;</button>
      <img src="images/DemonParadoxScroll.png" alt="Demon Paradox Scroll" id="paradoxScrollImg-intro">
    </div>
    
    <script>
    (function() {
      var overlay = document.getElementById('paradoxScrollOverlay-intro');
      var img = document.getElementById('paradoxScrollImg-intro');
      var closeBtn = document.getElementById('closeParadoxScroll-intro');
      var samaelTab = document.getElementById('samaelTabTrigger-intro');
      var scrollOpen = false;
      
      function openScroll() {
        overlay.classList.add('slide-out');
        scrollOpen = true;
        document.body.style.overflow = 'hidden';
      }
      
      function closeScroll() {
        overlay.classList.remove('slide-out');
        scrollOpen = false;
        document.body.style.overflow = '';
      }
      
      // Toggle scroll when Samael Tab is clicked
      samaelTab.addEventListener('click', function(e) {
        e.stopPropagation();
        if (scrollOpen) {
          closeScroll();
        } else {
          openScroll();
        }
      });
      
      closeBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        closeScroll();
      });
      
      document.addEventListener('keydown', function(e) {
        if (scrollOpen && (e.key === 'Escape' || e.key === 'Esc')) {
          closeScroll();
        }
      });
      
      // Clicking outside the image also closes
      overlay.addEventListener('click', function(e) {
        if (scrollOpen && e.target === overlay) {
          closeScroll();
        }
      });
    })();
    </script>
    <script>
    (function() {
      var overlay = document.querySelector('.tracker-overlay');
      var tooltip = overlay.querySelector('.tracker-tooltip');
      var fadeTimeout, hoverTimeout;
      overlay.addEventListener('mouseenter', function() {
        tooltip.style.opacity = '';
        tooltip.style.visibility = '';
        tooltip.classList.remove('force-fade');
        clearTimeout(fadeTimeout);
        clearTimeout(hoverTimeout);
        hoverTimeout = setTimeout(function() {
          fadeTimeout = setTimeout(function() {
            tooltip.classList.add('force-fade');
          }, 5000); // 5s after hover, start 10s fade
        }, 5000); // 5s hover before fade starts
      });
    })();
    </script>
    <script>
(function() {
  function onReady(fn) {
    if (document.readyState !== 'loading') fn();
    else document.addEventListener('DOMContentLoaded', fn);
  }
  onReady(function() {
    const altarImg = document.querySelector('img[src*=\"LilithTracker.png\"]');
    if (!altarImg) return;

    // Create Shadow Sanctuary
    const sanctuary = document.createElement('div');
    sanctuary.attachShadow({mode: 'open'});
    altarImg.parentNode.insertBefore(sanctuary, altarImg.nextSibling);
    const shadow = sanctuary.shadowRoot;

    // --- STYLES ---
    const style = document.createElement('style');
    style.textContent = `
      .sigil-veil { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; display: flex; align-items: center; justify-content: center; background: rgba(20,0,40,0.88); z-index: 99999; flex-direction: column; font-family: 'Cinzel', serif; color: #e0c3ff; animation: fadein 0.7s; }
      @keyframes fadein { from { opacity: 0; } to { opacity: 1; } }
      .sigil-box { background: rgba(30,0,60,0.97); border: 2px solid #a259ff; border-radius: 16px; box-shadow: 0 0 32px #a259ff88; padding: 32px 24px; min-width: 320px; max-width: 90vw; text-align: center; position: relative; }
      .sigil-title { font-size: 1.5em; color: #fff0fa; margin-bottom: 10px; letter-spacing: 2px; }
      .sigil-desc { font-size: 1em; color: #e0c3ff; margin-bottom: 18px; }
      .sigil-btn, .sigil-input { background: #2d004d; color: #fff0fa; border: 1px solid #a259ff; border-radius: 8px; padding: 8px 16px; margin: 8px 0; font-size: 1em; transition: box-shadow 0.2s; }
      .sigil-btn:hover { box-shadow: 0 0 8px #a259ff; cursor: pointer; }
      .sigil-input { width: 90%; }
      .sigil-code { background: #1a0033; color: #a259ff; padding: 8px; border-radius: 6px; word-break: break-all; margin: 10px 0; font-size: 0.95em; }
      .sigil-close { position: absolute; top: 8px; right: 12px; color: #a259ff; font-size: 1.2em; cursor: pointer; }
      .sigil-pulse { filter: drop-shadow(0 0 16px #a259ff) drop-shadow(0 0 32px #a259ff); animation: pulse-neon 1.2s infinite alternate; }
      @keyframes pulse-neon { 0% { filter: drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #a259ff); } 100% { filter: drop-shadow(0 0 32px #a259ff) drop-shadow(0 0 48px #a259ff); } }
      .sigil-hidden { display: none !important; }
      .sigil-row { margin: 12px 0; }
      .sigil-warning { color: #ffb4b4; font-size: 0.95em; margin-top: 10px; }
    `;
    shadow.appendChild(style);

    // --- UI ---
    const veil = document.createElement('div');
    veil.className = 'sigil-veil sigil-hidden';
    veil.innerHTML = `
      <div class=\"sigil-box\">
        <span class=\"sigil-close\" title=\"Close Sanctuary\">&times;</span>
        <div class=\"sigil-title\">Sanctuary: Digital Sigil Transceiver</div>
        <div class=\"sigil-desc\">Cast or Receive a Divination Code to connect with a trusted spirit.</div>
        <div class=\"sigil-row\">
          <button class=\"sigil-btn\" id=\"cast-sigil\">Cast a Sigil (Host)</button>
          <button class=\"sigil-btn\" id=\"receive-sigil\">Receive a Sigil (Join)</button>
        </div>
        <div class=\"sigil-row sigil-hidden\" id=\"cast-section\">
          <div>Share this Divination Code with your peer:</div>
          <div class=\"sigil-code\" id=\"offer-code\"></div>
          <div class=\"sigil-warning\">Do not share this code in public spaces.</div>
          <input class=\"sigil-input\" id=\"answer-input\" placeholder=\"Paste their Sigil Response here...\">
          <button class=\"sigil-btn\" id=\"submit-answer\">Complete Ritual</button>
        </div>
        <div class=\"sigil-row sigil-hidden\" id=\"receive-section\">
          <div>Paste your peer's Divination Code:</div>
          <input class=\"sigil-input\" id=\"offer-input\" placeholder=\"Paste their Sigil here...\">
          <button class=\"sigil-btn\" id=\"submit-offer\">Begin Ritual</button>
          <div class=\"sigil-row sigil-hidden\" id=\"answer-section\">
            <div>Send this Sigil Response back to your peer:</div>
            <div class=\"sigil-code\" id=\"answer-code\"></div>
          </div>
        </div>
        <div class=\"sigil-row sigil-hidden\" id=\"spirit-commune\">
          <div class=\"sigil-title\">Sanctuary Open</div>
          <div class=\"sigil-desc\">You are now connected. Whisper your truth below.</div>
          <textarea class=\"sigil-input\" id=\"spirit-message\" rows=\"2\" placeholder=\"Send a message...\"></textarea>
          <button class=\"sigil-btn\" id=\"send-message\">Send</button>
          <div id=\"spirit-messages\" style=\"margin-top:10px;max-height:120px;overflow:auto;\"></div>
        </div>
      </div>
    `;
    shadow.appendChild(veil);

    // --- Ethereal Lantern Creation ---
    const lanternContainer = document.createElement('div');
    lanternContainer.className = 'ethereal-lantern';
    lanternContainer.innerHTML = `<div class=\"lantern-flame waiting-state\"></div>`;
    document.body.appendChild(lanternContainer);
    
    const lanternFlame = lanternContainer.querySelector('.lantern-flame');
    
    // Create whispy effect container
    const whispyContainer = document.createElement('div');
    whispyContainer.className = 'whispy-effect';
    whispyContainer.style.display = 'none';
    document.body.appendChild(whispyContainer);
    
    function createWhispyStreak() {
      const width = 200 + Math.random() * 400;
      const height = 80 + Math.random() * 150;
      const x = Math.random() * (window.innerWidth - width);
      const y = Math.random() * (window.innerHeight - height);
      
      const streak = document.createElement('div');
      streak.className = 'whispy-streak animate';
      streak.style.width = width + 'px';
      streak.style.height = height + 'px';
      streak.style.left = x + 'px';
      streak.style.top = y + 'px';
      streak.style.transform = 'rotate(' + (Math.random() * 360) + 'deg)';
      
      whispyContainer.appendChild(streak);
      
      setTimeout(() => streak.remove(), 3000);
    }
    
    function startWhispyEffect() {
      whispyContainer.style.display = 'block';
      lanternFlame.classList.remove('message-received');
      lanternFlame.classList.add('waiting-state');
      
      const whispyInterval = setInterval(() => {
        if (energyFlow && energyFlow.readyState === 'open') {
          clearInterval(whispyInterval);
          stopWhispyEffect();
        } else {
          createWhispyStreak();
        }
      }, 2000 + Math.random() * 3000);
      
      lanternContainer.whispyInterval = whispyInterval;
    }
    
    function stopWhispyEffect() {
      whispyContainer.style.display = 'none';
      whispyContainer.innerHTML = '';
      lanternFlame.classList.remove('waiting-state');
    }
    
    function activateMessageGlow() {
      stopWhispyEffect();
      lanternFlame.classList.add('message-received');
      lanternFlame.classList.remove('waiting-state');
    }

    // --- Ritual Activation Logic ---
    let tapCount = 0, tapTimer = null, holdTimer = null, ritualActive = false;
    function resetRitual() {
      tapCount = 0;
      clearTimeout(tapTimer);
      clearTimeout(holdTimer);
      altarImg.removeEventListener('mousedown', ritualHoldStart);
      altarImg.removeEventListener('touchstart', ritualHoldStart);
      altarImg.removeEventListener('mouseup', ritualHoldEnd);
      altarImg.removeEventListener('mouseleave', ritualHoldEnd);
      altarImg.removeEventListener('touchend', ritualHoldEnd);
    }
    altarImg.addEventListener('click', function() {
      if (ritualActive) return;
      tapCount++;
      clearTimeout(tapTimer);
      tapTimer = setTimeout(() => { tapCount = 0; }, 1200);
      if (tapCount === 3) {
        altarImg.addEventListener('mousedown', ritualHoldStart);
        altarImg.addEventListener('touchstart', ritualHoldStart);
        altarImg.addEventListener('mouseup', ritualHoldEnd);
        altarImg.addEventListener('mouseleave', ritualHoldEnd);
        altarImg.addEventListener('touchend', ritualHoldEnd);
      }
    });
    function ritualHoldStart() {
      holdTimer = setTimeout(() => {
        altarImg.classList.add('sigil-pulse');
        veil.classList.remove('sigil-hidden');
        ritualActive = true;
        resetRitual();
      }, 2000);
    }
    function ritualHoldEnd() { clearTimeout(holdTimer); }

    // --- Panic Triggers ---
    function dissolveSanctuary() {
      altarImg.classList.remove('sigil-pulse');
      veil.classList.add('sigil-hidden');
      lanternContainer.style.display = 'none';
      stopWhispyEffect();
      if (lanternContainer.whispyInterval) clearInterval(lanternContainer.whispyInterval);
      if (spiritAura) try { spiritAura.close(); } catch(e){}
      if (energyFlow) try { energyFlow.close(); } catch(e){}
      spiritAura = null; energyFlow = null;
      // Clear UI
      shadow.querySelectorAll('.sigil-row').forEach(e=>e.classList.add('sigil-hidden'));
      shadow.getElementById('spirit-messages').innerHTML = '';
      ritualActive = false;
      resetRitual();
    }
    shadow.querySelector('.sigil-close').onclick = dissolveSanctuary;
    window.addEventListener('keydown', e => { if (e.key === 'Escape') dissolveSanctuary(); });
    if (window.DeviceMotionEvent) {
      let lastZ = null;
      window.addEventListener('devicemotion', e => {
        if (!e.accelerationIncludingGravity) return;
        let z = e.accelerationIncludingGravity.z;
        if (lastZ !== null && Math.abs(z - lastZ) > 15) dissolveSanctuary();
        lastZ = z;
      });
    }

    // --- P2P Energetics ---
    let spiritAura = null, energyFlow = null, isHost = false;
    const iceConfig = {iceServers: []}; // No STUN/TURN for privacy

    function veilWords(str) {
      return btoa(unescape(encodeURIComponent(str.split('').reverse().join(''))));
    }
    function unveilWords(str) {
      try { return decodeURIComponent(escape(atob(str))).split('').reverse().join(''); }
      catch { return ''; }
    }

    // --- Host Ritual (Cast a Sigil) ---
    shadow.getElementById('cast-sigil').onclick = function() {
      isHost = true;
      shadow.getElementById('cast-section').classList.remove('sigil-hidden');
      shadow.getElementById('receive-section').classList.add('sigil-hidden');
      spiritAura = new RTCPeerConnection(iceConfig);
      energyFlow = spiritAura.createDataChannel('truth-stream');
      setupEnergyFlow();
      spiritAura.onicecandidate = e => {
        if (!e.candidate) {
          const offer = veilWords(JSON.stringify(spiritAura.localDescription));
          shadow.getElementById('offer-code').textContent = offer;
        }
      };
      spiritAura.createOffer().then(d => spiritAura.setLocalDescription(d));
    };

    // --- Join Ritual (Receive a Sigil) ---
    shadow.getElementById('receive-sigil').onclick = function() {
      isHost = false;
      shadow.getElementById('receive-section').classList.remove('sigil-hidden');
      shadow.getElementById('cast-section').classList.add('sigil-hidden');
    };

    // --- Offer/Answer Handlers (no double definition) ---
    shadow.getElementById('submit-offer').onclick = function() {
      const offer = shadow.getElementById('offer-input').value.trim();
      if (!offer) return;
      spiritAura = new RTCPeerConnection(iceConfig);
      spiritAura.ondatachannel = e => { energyFlow = e.channel; setupEnergyFlow(); };
      spiritAura.onicecandidate = e => {
        if (!e.candidate) {
          const answer = veilWords(JSON.stringify(spiritAura.localDescription));
          shadow.getElementById('answer-section').classList.remove('sigil-hidden');
          shadow.getElementById('answer-code').textContent = answer;
        }
      };
      const offerSDP = JSON.parse(unveilWords(offer));
      spiritAura.setRemoteDescription(new RTCSessionDescription(offerSDP)).then(() =>
        spiritAura.createAnswer().then(d => spiritAura.setLocalDescription(d))
      );
    };
    shadow.getElementById('submit-answer').onclick = function() {
      const answer = shadow.getElementById('answer-input').value.trim();
      if (!answer) return;
      const answerSDP = JSON.parse(unveilWords(answer));
      spiritAura.setRemoteDescription(new RTCSessionDescription(answerSDP));
      enterSanctuary();
    };

    // --- Enter Sanctuary (Messaging) ---
    function enterSanctuary() {
      shadow.getElementById('cast-section').classList.add('sigil-hidden');
      shadow.getElementById('receive-section').classList.add('sigil-hidden');
      shadow.getElementById('spirit-commune').classList.remove('sigil-hidden');
      lanternContainer.style.display = 'block';
      startWhispyEffect();
    }
    function setupEnergyFlow() {
      energyFlow.onopen = () => enterSanctuary();
      energyFlow.onmessage = e => {
        activateMessageGlow();
        const msgBox = shadow.getElementById('spirit-messages');
        const div = document.createElement('div');
        div.textContent = 'Peer: ' + e.data;
        div.style.color = '#a259ff';
        msgBox.appendChild(div);
        msgBox.scrollTop = msgBox.scrollHeight;
        
        // Keep glow active for 5 seconds after message, then return to whispy
        if (lanternContainer.messageTimeout) clearTimeout(lanternContainer.messageTimeout);
        lanternContainer.messageTimeout = setTimeout(() => {
          if (energyFlow && energyFlow.readyState === 'open') {
            startWhispyEffect();
          }
        }, 5000);
      };
    }
    shadow.getElementById('send-message').onclick = function() {
      const msg = shadow.getElementById('spirit-message').value.trim();
      if (!msg || !energyFlow || energyFlow.readyState !== 'open') return;
      energyFlow.send(msg);
      const msgBox = shadow.getElementById('spirit-messages');
      const div = document.createElement('div');
      div.textContent = 'You: ' + msg;
      div.style.color = '#fff0fa';
      msgBox.appendChild(div);
      msgBox.scrollTop = msgBox.scrollHeight;
      shadow.getElementById('spirit-message').value = '';
    };
  });
})();
    </script>
    <nav>
        <p class="centered-text">
            <a href="Introduction.html">Introductions</a>
            &nbsp;|&nbsp;
            <a href="HallsOfHell1.html">Halls Of Hell</a>
            &nbsp;|&nbsp;
            <a href="EnergyHealingServices.html">Energy Healing Services</a>
            &nbsp;|&nbsp;
            <a href="IntPsycRead.html">Intuitive Psychological Readings</a>
            &nbsp;|&nbsp;
            <a href="SundayWLilith.html">Sunday with Lilith</a>
            &nbsp;|&nbsp;
            <a href="AboutMe.html">About Me</a>
            &nbsp;|&nbsp;
            <a href="ContactMe.html">Contact</a>
        </p>
    </nav>
    <header>
        <img class="center-image" src="images/Intro1.png" width="900" height="700">
        <h1 class="center-text" style="color: red">The Dark Lantern of Aratosh beckons to you with a haunting Siren's song</h1>
        <p class="center-text"><i>"I Burn so I may Awaken."</i></p>
        <img class="center-image" src="images/LanntairAratosh.png" width="300" height="300">
    </header>
    <main>
        <section>
            <p class="center-text" style="color: red"><b>Alright there; hello... Welcome!</b></p>
            <p class="center-text" style="color: red"><i>If you've come here looking for hope within, I offer you none.</i></p>
            <img class="center-image" src="images/LuciLilith.png" width="700" height="500">
            <p class="center-text" style="color: red"><i><u>"Lanntair Aratosh is a lantern in the darkness. The Lantern it's self is darkened. But, whom-ever should pick up this Lantern, if they hold a strength in the spirit they possess enough to shine brightly & freely with 
                their own inner light of the soul: Only then will this Lantern light."</u></i></p>
                <img class="center-image" src="images/DemonCaution.png" width="200" height="300">
            <p class="center-text" style="color: red"><b><i>There Is No Creed, No Dogma That EVER Diminishes Your Light: Unless You Let Your Light Fade To Darkness & Dispair Yourself...</i></b></p> 
            <p class="center-text" style="color: red"><i>~No one can give you the hope you need to raise yourself back up anyway; not in the ways you yearn to hear it, nor in the ways lust to feel it.~</i></p>  
        </section>
        <section>
            <a href="HallsOfHell1.html"><img class="center-image" src="images/HallsOfHell3.png" width="800" height="700"></a>
            <p class="center-text" style="color: red">Do you Enter?</p>
        </section>
    </main>
    <img class="center-image" src="images/NaszriteSinHandle.png" width="500" height="700" alt="sigil for Naamah">
    <nav class="social-nav" aria-label="social media links">
        <a href="https://signal.me/#eu/29xMRCXdjUzc_33p4QREeYGRYf-BYCHfuNMosfd0rIVAhnx7sDVI452jrwJ7LAry" target="_blank" rel="noopener noreferrer" aria-label="Signal">
            <img class="social-icon" src="images/SignalChat1.png" alt="Signal logo">
        </a>
        <a href="https://substack.com/@erinofotherworldscrh001?utm_source=user-menu" target="_blank" rel="noopener noreferrer" aria-label="Substack">
            <img class="social-icon" src="images/SubstackLogo.png" alt="Substack logo">
        </a>
        <a href="https://discord.gg/WGBBBNuubU" target="_blank" rel="noopener noreferrer" aria-label="Discord">
            <img class="social-icon" src="images/DiscordLogo1.png" alt="Discord logo">
        </a>
        <a href="mailto:erinofotherworld.scrh001@gmail.com" aria-label="Email">
            <svg class="social-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M20 4H4c-1.1 0-2 .9-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 4-8 5L4 8V6l8 5 8-5v2z"/></svg>
        </a>
    </nav>
    <footer>
    <p class="center-text" style="color:darkred">&copy; 12,025HE Halls Of Hell Project: By Erin Nyght. Artistic elemtents by Erin Nyght & Google Gemini AI Generation. All art elements edited in Google's SnapSeed & Infinate Painter & YouCut Editor by Erin Nyght
    </p>
    <img class="center-image" src="images/SafeSpace.png" width="150" height="150" alt="This is a 2SLGBTQIA Safe Space">
    </footer>
</body>
<script src="script.js"></script>
</html>
